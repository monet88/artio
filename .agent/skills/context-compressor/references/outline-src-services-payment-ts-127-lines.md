# Outline: src/services/payment.ts (127 lines)

- L1-15: Imports and types
- L17-35: PaymentService class
  - L20: constructor(config)
  - L25: processPayment(amount, method)
  - L45: refund(transactionId)
  - L67: getHistory(userId)
- L90-127: Helper functions
```

**Tokens:** ~50 vs ~500 for full file

---

### Strategy 3: Diff-Only Mode

**When:** You've already seen a file and need to understand changes.

**How:**
```markdown